#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n#include <sys/socket.h>\n#include <netinet/in.h>\n#include <arpa/inet.h>\n\nint main() {\n    int sockfd = socket(AF_INET, SOCK_DGRAM, 0);\n    if (sockfd < 0) {\n        perror("socket");\n        return 1;\n    }\n\n    struct sockaddr_in server_addr = {0};\n    server_addr.sin_family = AF_INET;\n    server_addr.sin_port = htons(53);\n    inet_pton(AF_INET, "8.8.8.8", &server_addr.sin_addr);\n\n    // Simple DNS query for example.com\n    unsigned char dns_query[] = {\n        0x00, 0x01, 0x01, 0x00, 0x00, 0x01, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00, 0x07, 0x65, 0x78, 0x61,\n        0x6d, 0x70, 0x6c, 0x65, 0x03, 0x63, 0x6f, 0x6d,\n        0x00, 0x00, 0x01, 0x00, 0x01\n    };\n\n    printf("Sending DNS query to 8.8.8.8...\n");\n    sendto(sockfd, dns_query, sizeof(dns_query), 0,\n           (struct sockaddr*)&server_addr, sizeof(server_addr));\n\n    char buffer[512];\n    struct sockaddr_in client_addr;\n    socklen_t addr_len = sizeof(client_addr);\n\n    printf("Waiting for response...\n");\n    ssize_t n = recvfrom(sockfd, buffer, sizeof(buffer), 0,\n                        (struct sockaddr*)&client_addr, &addr_len);\n    if (n > 0) {\n        printf("Received %zd bytes response\n", n);\n    }\n\n    close(sockfd);\n    return 0;\n}\n
